{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
<!DOCTYPE html>
<html lang="zxx">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta accesskey="Shopping, Retail, Food Delivery, Cost Reductions, Wholesaler, activity tracker, and profits- e-Payment- Financial Solutions" />
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/animate.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/meanmenu.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/boxicons.min.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/flaticon.css' %}" />

    <!-- <link rel="stylesheet" href="{% static 'assets/css/nice-select.min.css' %}" /> -->
    <link rel="stylesheet" href="{% static 'assets/select2/css/select2.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/owl.carousel.min.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/owl.theme.default.min.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/odometer.min.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/magnific-popup.min.css' %}" />

    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/StyleForm.css' %}" />
    {% if LANGUAGE_CODE == 'en' %}
    <link rel="stylesheet" href="{% static 'assets/css/StyleForm_en.css' %}" />
    {% endif %}

    <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}" />
    <title>{% trans 'Tharaa Form' %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900;1000&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">

    <style>
        .language-switcher {
            display: inline-block;
            position: relative;
        }
        .language-switcher select {
            appearance: none;
            background-color: transparent;
            border: none;
            padding: 0 30px 0 10px;
            margin: 0;
            width: 100%;
            font-family: inherit;
            font-size: inherit;
            cursor: inherit;
            line-height: inherit;
            outline: none;
        }
        
        .language-icon {
            margin-right: 5px;
        }
        .fromTLD{
          width: 60%;
          margin: auto;
        }
        .fromTLD .FormPage{
          width: 100% !important;
          margin-top: 0;
        }

        @media(max-width:768px){
          .fromTLD{
          width: 100%;
        }
        }
        @media print {
          /* .fromTLD {
            width: 210mm; 
            
        } */
        .fromTLD{
          width: 100%;
        }
        .fromTLD .FormPage{
          width: 100% !important;
        }
            body {
                margin: 0;
                padding: 0;
            }
            .fromTLD {
                width: 210mm;
                margin: 0;
                padding: 0;

            }
        }
    </style>
</head>

  <body>

    <div class="container mt-4">
        <div class="language-switcher">
            <form method="post" action="{% url 'set_language' %}">
                {% csrf_token %}
                <select class="select2" name="language" onchange="this.form.submit()">
                    {% for lang_code, lang_name in LANGUAGES %}
                        <option value="{{ lang_code }}" {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>
                            {{ lang_name }}
                        </option>
                    {% endfor %}
                </select>
            </form>
        </div>
    </div>


    <form method="post" id="sendForm">
        {% csrf_token %}
    <div class="fromTLD">
      <div class="FormPage" style="background-image: url({% static 'assets/img/patrn1.png' %})">
        <div class="logo">
          <img src="{% static 'assets/img/Logo.png' %}" />
        </div>
        <div class="FormContent">
          <div class="MainTitle">
            <h2><span>{% trans 'EOI' %}</span><img src="{% static 'assets/img/glee.png' %}" /></h2>
            <div class="row" style="justify-content: center">
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="formgroup">
                  <label>{% trans 'Date:' %}</label>
                  <input type="date" class="inputtext" name="date" readonly value="" id="dateInput" />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="formgroup">
                  <label>{% trans 'Customer Num:' %}</label>
                  <input type="text" name="customer_num"  id="customer_num" class="inputtext" value="{{sympol}}{{customer_num}}" disabled />
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="sectitle">
                <h2>{% trans 'Customer Data' %}</h2>
              </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-3">
              <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Name :' %}</label>
                    <input type="text" name="name" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'BirthDay :' %}</label>
                    <input type="date" name="birthday" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'National ID / Passport:' %}</label>
                    <input type="text" name="national_id" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Phone:' %}</label>
                    <input type="text" name="phone" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Mobile:' %}</label>
                    <input type="text" name="mobile" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Occupation:' %}</label>
                    <input type="text" name="occupation" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Address:' %}</label>
                    <input type="text" name="address" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'E-Mail::' %}</label>
                    <input type="email" name="email" class="inputtext" />
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="sectitle mb-2">
                <h2>{% trans 'Client Source' %}</h2>
              </div>
            </div>
            <div class="col-lg-12 mb-3">
              <div class="row" style="margin: 0 -15px; justify-content: center">
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Direct' %}</span>
                      <input type="radio" name="clientSource" value="direct" />
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Indirect' %}</span>
                      <input type="radio" name="clientSource" value="Indirect" />
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Ambassador' %}</span>
                      <input type="radio" name="clientSource" value="Ambassador" />
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Personal' %}</span>
                      <input type="radio" name="clientSource" value="Personal" />
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div id="broker_section" >
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="formgroup">
                        <label>{% trans 'Broker company' %} :</label>
                        <select class="inputtext select2" name="broker_company" id="broker_company_select">
                            <option vlaue="" selected>{% trans 'select option' %}</option>
                            {% for broker in thraa %}
                            <option vlaue="{{broker.broker_company}}">{{broker.broker_company}}</option>
                            {% endfor %}
                        </select>
                    </div>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 d-none" >
                    <div class="formgroup">
                      <label>{% trans 'Broker Company :' %}</label>
                      <input type="text" name="broker_company" id="broker_company_input" class="inputtext" />
                    </div>
                  </div>
                  <!------------------------------------->
                  
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" >
                    <div class="formgroup">
                      <label>{% trans 'Broker Company id :' %}</label>
                      <input type="text" name="broker_company_id" id="broker_company_id" disabled value="{{broker_company_id}}" class="inputtext" />
                    </div>
                  </div>
                </div>
                <div id="ambassador_section">
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="formgroup">
                      <label>{% trans 'Ambassador Name :' %}</label>
                      <input type="text" name="ambassador_name" id="ambassador_name" class="inputtext" />
                    </div>
                  </div>
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="formgroup">
                      <label>{% trans 'Ambassador ID :' %}</label>
                      <input type="text" name="ambassador_id" id="ambassador_id" class="inputtext" />
                    </div>
                  </div>
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="formgroup">
                      <label>{% trans 'Ambassador email :' %}</label>
                      <input type="text" name="ambassador_email" id="ambassador_email" class="inputtext" />
                    </div>
                  </div>
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="formgroup">
                      <label>{% trans 'Ambassador phone :' %}</label>
                      <input type="text" name="ambassador_phone" id="ambassador_phone" class="inputtext" />
                    </div>
                  </div>
                  
                </div>


              <!------------------------------------->
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="formgroup">
                    <label>{% trans 'Dev Sales Manager :' %} :</label>
                    <select class="inputtext select2" name="dev_sales_manager" id="dev_sales_manager_select">
                      <option value="" selected>{% trans 'select option' %}</option>
                      {% for dev_sales_manager in unique_dev_sale_manager %}
                      <option vlaue="{{dev_sales_manager}}">{{dev_sales_manager}}</option>
                      {% endfor %}
                  </select>
                </div>
              </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 d-none">
                  <div class="formgroup">
                    <label>{% trans 'Dev Sales Manager :' %}</label>
                    <input type="text" name="dev_sales_manager" id="dev_sales_manager_input" class="inputtext" disabled />
                  </div>
                </div>




                <!------------------------------------->
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                      <label>{% trans 'Dev Sales :' %} :</label>
                      <select class="inputtext select2" name="dev_sales" id="dev_sales_select">
                        <option value="" selected>{% trans 'select option' %}</option>
                        
                    </select>
                  </div>
              </div>



                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 d-none" >
                  <div class="formgroup">
                    <label>{% trans 'Dev Sales :' %}</label>
                    <input type="text" name="dev_sales" id="dev_sales_input" class="inputtext" />
                  </div>
                </div>


                <div id="broker_sales_section2"> 
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Broker Sales :' %}</label>
                    <input type="text" name="broker_sales" id="broker_sales_input" class="inputtext" />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                    <label>{% trans 'Broker id :' %}</label>
                    <input type="text" name="broker_id" id="broker_id_input" class="inputtext" />
                  </div>
                </div>
                </div>
                
                
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="formgroup">
                      <label>{% trans 'Branch' %} :</label>
                      <select class="inputtext select2" name="branch">
                        <option vlaue="" selected>{% trans 'select option' %}</option>
                          <option vlaue="{% trans 'AL-tajamou' %}">{% trans 'AL-tajamou' %}</option>
                          <option vlaue="{% trans 'Maadi' %}">{% trans 'Maadi' %}</option>
                          <option vlaue="{% trans 'Homes Expo Alex' %}">{% trans 'Homes Expo Alex' %}</option>
                          <option vlaue="{% trans 'Dusit Expo' %}">{% trans 'Dusit Expo' %}</option>
                          <option vlaue="{% trans 'kempinski hotel' %}">{% trans 'kempinski hotel' %}</option>
                      </select>
                  </div>
              </div>
              </div>
            </div>

            <div class="col-lg-12">
              <div class="UnitesGroup">
                <div class="ItemssNewUints">
                  <div class="UnitesItem">
                    <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="sectitle mb-2">
                          <h2>{% trans 'Type Of Unit' %} ({{unit_sympol}}<span id="number_of_units">{{unit_num}}</span>)</h2>
                          <input type="text" name="number_of_units" id="number_of_units_input" class="inputtext" value="15255" style="display:none" />
                        </div>
                      </div>
                      <div class="col-lg-12 mb-3">
                        <div class="row" style="margin: 0 -15px; justify-content: center">
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Studio' %}</span>
                                <input type="radio" name="type_of_unit" value="studio" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'One Bedroom Chalet' %}</span>
                                <input type="radio" name="type_of_unit" value="one_bedroom_chalet" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Two Bedroom Chalet' %}</span>
                                <input type="radio" name="type_of_unit" value="two_bedroom_chalet" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Three Bedroom Chalet' %}</span>
                                <input type="radio" name="type_of_unit" value="three_bedroom_chalet" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Duplex' %}</span>
                                <input type="radio" name="type_of_unit" value="duplex" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Twin House' %}</span>
                                <input type="radio" name="type_of_unit" value="twin_house" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="sectitle mb-2">
                          <h2>{% trans 'Floor' %}</h2>
                        </div>
                      </div>
                      <div class="col-lg-12 mb-3">
                        <div class="row" style="margin: 0 -15px; justify-content: center">
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Ground' %}</span>
                                <input type="radio" name="Floor" value="ground" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                          <div class="col-lg-3 p-0">
                            <div class="form-check-inline">
                              <label class="customradio">
                                <span class="radiotextsty">{% trans 'Typical' %}</span>
                                <input type="radio" name="Floor" value="typical" />
                                <span class="checkmark"></span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="AddNeUnit">
                  <button class="addNewUnitess" type="button">{% trans 'Add New unit' %}</button>
                </div>
              </div>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="sectitle">
                <h2>{% trans 'Payment Methods' %}</h2>
              </div>
            </div>
            <div class="col-lg-12 mb-3">
              <div class="row" style="margin: 0 -15px; justify-content: center">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                  <div class="formgroup" >
                    <label>{% trans 'Amount' %}</label>
                    <input type="number" name="amount" id="amount" class="inputtext" disabled value="50000" />
                    
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                  <div class="formgroup" style="width: ">
                    <label>{% trans 'Custom Amount' %}</label>
                    <input type="number" name="editamount" id="editamount"  class="inputtext notused" placeholder="{% trans 'Custom Amount (optional)' %}" />
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Bank Transfer' %}</span>
                      <input type="radio" name="payment" value="bank_trnasfer"/>
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Credit Card' %}</span>
                      <input type="radio" name="payment" value="credit_card"/>
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Checks' %}</span>
                      <input type="radio" name="payment" value="checks" />
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-lg-3 p-0">
                  <div class="form-check-inline">
                    <label class="customradio">
                      <span class="radiotextsty">{% trans 'Cash' %}</span>
                      <input type="radio" name="payment" value="cash" />
                      <span class="checkmark"></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <!--------------------------------------------------------------------->


            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="sectitle">
                <h2>{% trans 'The Conditions' %}</h2>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="Shoroot">
                <p>{% trans '1- The client is required to visit the company`s premises within 3 days from the project launch date to sign the contract and receive it post-agreement, in accordance with the company`s regulations, and to pay the remaining amount.' %}</p>
                <p>{% trans '2- This reservation will be forfeited if the due amounts are not paid within the period specified in the previous clause without the need for notice, warning, or court judgment. The reservation will be considered null and void, and the client will have the right to reclaim the reserved booking deposit.' %}</p>
                <p>{% trans '3- The client is responsible for the accuracy of the information provided and documented by them.' %}</p>
              </div>
            </div>

            <div class="col-lg-12 mt-5">
              <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                  <div class="formgroup d-block text-center">
                    <label>{% trans 'Operation Department' %}</label>
                    <input type="text" readonly class="inputtext d-block" />
                  </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                  <div class="formgroup d-block text-center">
                    <label>{% trans 'Financial Departmnt' %}</label>
                    <input type="text" readonly class="inputtext d-block" />
                  </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                  <div class="formgroup d-block text-center">
                    <label>{% trans 'Sales Department' %}</label>
                    <input type="text" readonly class="inputtext d-block" />
                  </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                  <div class="formgroup d-block text-center">
                    <label>{% trans 'Client' %}</label>
                    <input type="text" readonly class="inputtext d-block" />
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-12">
              <button type="submit" class="SendOrderer">{% trans 'Send Order' %}</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    </form>

  
    {% comment %} <button type="button" id=CovertPDFAndDowenload class="SendOrderer DowenloadPDFF">{% trans 'Dowenlaod as PDF File' %}</button> {% endcomment %}


    <script src="{% static 'assets/js/jquery.min.js' %}"></script>

    <script src="{% static 'assets/js/popper.min.js' %}"></script>

    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>

    <script src="{% static 'assets/js/jquery.meanmenu.js' %}"></script>

    <!-- <script src="{% static 'assets/js/jquery.nice-select.min.js' %}"></script> -->

    <script src="{% static 'assets/select2/js/select2.min.js' %}"></script>
    <script src="{% static 'assets/select2/form-advanced.init.js' %}"></script>
    <script src="{% static 'assets/js/owl.carousel.min.js' %}"></script>

    <script src="{% static 'assets/js/jquery.magnific-popup.min.js' %}"></script>

    <script src="{% static 'assets/js/odometer.min.js' %}"></script>

    <script src="{% static 'assets/js/jquery.appear.min.js' %}"></script>

    <script src="{% static 'assets/js/jquery.ajaxchimp.min.js' %}"></script>

    <script src="{% static 'assets/js/form-validator.min.js' %}"></script>

    <script src="{% static 'assets/js/contact-form-script.js' %}"></script>

    <script src="{% static 'assets/js/wows.min.js' %}"></script>

    <script src="{% static 'assets/js/main.js' %}"></script>
    
    
    <script src="{% static 'assets/js/SmoothScroll.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script src="{% static 'assets/js/wow.min.js' %}"></script>
    <script src="{% static 'assets/js/script.js' %}"></script>

    
<script>
  new WOW().init();

</script>
    
            <script>
                $(document).ready(function() {
                  $(".addNewUnitess").click(function() {
                      var newItem = $(".UnitesItem").first().clone();
                      var newIndex = $(".UnitesItem").length;
                      newItem.find('input[type="radio"]').each(function() {
                          var name = $(this).attr('name');
                          var newName = name.split('_')[0] + '_' + newIndex;
                          $(this).attr('name', newName);
                      });
              
                      var numberOfUnits = Number($("#number_of_units").text());
                      $("#number_of_units").text(numberOfUnits + 1);
                      $("#number_of_units_input").val(numberOfUnits + 1);
              
                      $(".ItemssNewUints").append(newItem);
                      // amount input value + 50000
                      var amount = Number($("#amount").val());
                      $("#amount").val(amount + 50000);
                      

                  });
              
                  $("#sendForm").submit(function(e) {
                      e.preventDefault();
              
                      var formData = {};
                      var isValid = true;
              
                      $('#sendForm input').each(function() {
                          var type = $(this).attr('type');
                          // check if id of the input is customer_num remove from value sympol and keep only number
                         

                          var value = $(this).val();
                          var isReadonly = $(this).attr('readonly');
                          var isHidden = $(this).is(':hidden');
                          // check if this input take display none
                          var isNotDisplayed = $(this).css('display') === 'none';
                          // check if has class notused 
                          var notUsed = $(this).hasClass('notused');
                          
                          if (!value && !isReadonly && !isHidden && !isNotDisplayed && !notUsed) {
                            console.log($(this))
                              isValid = false;
                              $(this).addClass('is-invalid');
                          } else {
                              $(this).removeClass('is-invalid');
                          }
              
                          if (type === 'radio' || type === 'checkbox') {
                              if ($(this).is(':checked')) {
                                  formData[$(this).attr('name')] = $(this).val();
                              }
                          } else {
                              formData[$(this).attr('name')] = $(this).val();
                          }
                      });
              
                      $('input[type="radio"]').each(function() {
                          var name = $(this).attr('name');
                          if ($('input[name="' + name + '"]:checked').length === 0) {
                              isValid = false;
                              $(this).closest('.form-check-inline').addClass('is-invalid');
                          } else {
                              $(this).closest('.form-check-inline').removeClass('is-invalid');
                          }
                      });

                      // get branch from select option with name branch

                      formData['branch'] = $('select[name="branch"]').val();
              
                      if (!isValid) {
                          alert('Please fill in all required fields.');
                          return;
                      }
              
                      var units = [];
                      $(".UnitesItem").each(function(index, element) {
                          var numberOfUnits = $(element).find('input[type="text"]').val();
                          var unit = {};
                          $(element).find('input[type="radio"]').each(function() {
                              if ($(this).is(':checked')) {
                                  var name = $(this).attr('name');
                                  var key = name.split('_')[0];
                                  unit[key] = $(this).val();
                              }
                          });
                          unit['number_of_units'] = numberOfUnits;
                          units.push(unit);
                      });
              
                      formData['units'] = JSON.stringify(units);
                      
                      formData['csrfmiddlewaretoken'] = $('[name="csrfmiddlewaretoken"]').val();
                      console.log("data ", formData);

                      // check if input with id editamount has value
                      if ($("#editamount").val()) {
                          formData['amount'] = $("#editamount").val();
                          // amount input value= 0
                          var amount = document.getElementById('amount')
                          console.log("amount ", amount)
                          amount.value = 0
                          
                      }

                      $.ajax({
                          url: "{% url 'home:order' %}",
                          type: 'POST',
                          data: formData,
                          success: function(response) {
                            alert("Your order has been sent successfully");
            
                            var element = document.querySelector('.fromTLD');
                            element.style.width = '100%';
                            var element2 = document.querySelector('.FormPage');
                            element2.style.width = '100%';
                            var MainTitle = document.querySelector('.MainTitle');
                            MainTitle.style.marginTop = '10px';
                            var addNewUnitess = document.querySelector('.addNewUnitess');
                            addNewUnitess.style.display = 'none';
                            

                            var opt = {
                                margin: [0.5, 0.5, 0.5, 0.5],
                                filename: 'units_order.pdf',
                                image: { type: 'jpeg', quality: 0.98 },
                                html2canvas: {
                                    scale: 2,
                                    // width: element.scrollWidth,
                                    // height: element.scrollHeight
                                },
                                jsPDF: {
                                    unit: 'cm',
                                    format: 'a4',
                                    orientation: 'portrait',
                                    fonts: ['Amiri']
                                }
                            };
                            html2pdf().set(opt).from(element).save().then(function() {
                              element.style.width = '60%';
                              addNewUnitess.style.display = 'block';
                          });
                            },
                              error: function(xhr, status, error) {
                                  console.log(xhr.responseText);
                              }
                          });
                      });
                  });
                                    
            </script>
                


<script>
    document.addEventListener('DOMContentLoaded', (event) => {
      const dateInput = document.getElementById('dateInput');
      const today = new Date();
      const formattedDate = today.toISOString().split('T')[0]; // Format as YYYY-MM-DD
      dateInput.value = formattedDate;
    });
</script>


<script>
    $(document).ready(function() {
      var $broker_company_select = $("#broker_company_select");
      var $broker_company_input = $("#broker_company_input");
      var broker_company_id=$("#broker_company_id");
      var dev_sales_manager_select = $("#dev_sales_manager_select");
      var dev_sales_manager_input = $("#dev_sales_manager_input");
      $broker_company_select.on("change", function() {
          var selectedValue = $(this).val();
          console.log('select', selectedValue);
          $broker_company_input.val(selectedValue);
          url="{% url 'home:get_broker_company_details' 'placeholder' %}".replace('placeholder', selectedValue)
          $.ajax({
              url: url,
              type: 'GET',
              success: function(response) {
                  // set the value of the input element
                  console.log('response', response);
                  broker_company_id.val(response.broker_company_id);
                  // set dev_sales_manager_select option with the array dev_sale_managers that send in response
                  // Clear existing options
                  dev_sales_manager_select.empty();
                  // please select option 
                  var selected_option = $('<option></option>').attr("value", "").text("select option");
                  selected_option.attr("selected", true);
                  dev_sales_manager_select.append(selected_option);
                  
                  // Add new options
                  response.dev_sale_managers.forEach(function(manager) {
                      var option = $('<option></option>').attr("value", manager).text(manager);
                      dev_sales_manager_select.append(option);
                  });
              },
              error: function(xhr, status, error) {
                  console.error(error);
              }
          })






      });

      var $dev_sales_select = $("#dev_sales_select");
      var $dev_sales_input = $("#dev_sales_input");
  
      $dev_sales_select.on("change", function() {
          var selectedValue = $(this).val();
          console.log('select', selectedValue);
          $dev_sales_input.val(selectedValue);
      });

      dev_sales_manager_select.on("change", function() {
          var selectedValue = $(this).val();
          console.log('select', selectedValue);
          dev_sales_manager_input.val(selectedValue);
          var url = "{% url 'home:get_dev_sales_manager_details' 'placeholder' %}".replace('placeholder', selectedValue);
          $.ajax({
              url: url,
              type: 'GET',
              success: function(response) {
                  // set options for dev_sales_select with the array dev_sales that send in response
                  console.log('response', response);
                  // Clear existing options
                  $dev_sales_select.empty();
                  // please select option
                  var selected_option = $('<option></option>').attr("value", "").text("select option");
                  selected_option.attr("selected", true);
                  $dev_sales_select.append(selected_option);
                  // Add new options
                  response.dev_sales.forEach(function(sales) {
                      var option = $('<option></option>').attr("value", sales).text(sales);
                      $dev_sales_select.append(option);
                  });

                  // check if response.dev_sales is empty array set 
                  if (response.dev_sales.length === 0) {
                    dev_sales_input.val("no results");
                  }
                  
                  

              },
              error: function(xhr, status, error) {
                  console.error(error);
              }
          })



      });
  
  
      
  
  
  
  
 
  
  
  
  });
  
  $(document).ready(function() {
    var ambassador_section= $("#ambassador_section");
    ambassador_section.hide();

    function update_inputs_value(flag){
      // inputs id that need to be updated depend on the flag
      // broker_company_input , broker_company_id , ambassador_name, ambassador_id , ambassador_phone , ambassador_email
      // get all inputs
      var broker_company_input = $("#broker_company_input");
      var broker_company_id = $("#broker_company_id");
      var ambassador_name = $("#ambassador_name");
      var ambassador_id = $("#ambassador_id");
      var ambassador_phone = $("#ambassador_phone");
      var ambassador_email = $("#ambassador_email");
      var broker_sale=$("#broker_sales_input");
      var broker_id=$("#broker_id_input");
      if (flag==="Ambassador"){
        broker_company_input.val("no results");
        broker_company_id.val("no results");
        broker_sale.val("no results");
        broker_id.val("no results");
        ambassador_name.val("");
        ambassador_id.val("");
        ambassador_phone.val("");
        ambassador_email.val("");
      }else if (flag==="direct"){
        broker_company_input.val("no results");
        broker_company_id.val("no results");
        broker_sale.val("no results");
        broker_id.val("no results");
        ambassador_name.val("no results");
        ambassador_id.val("no results");
        ambassador_phone.val("no results");
        ambassador_email.val("no results");
      }else if(flag==="Indirect"){
        broker_company_input.val("");
        broker_company_id.val("");
        broker_sale.val("");
        broker_id.val("");
        ambassador_name.val("no results");
        ambassador_id.val("no results");
        ambassador_phone.val("no results");
        ambassador_email.val("no results");
      }else if (flag==="Personal"){
        broker_company_input.val("");
        broker_company_id.val("");
        broker_sale.val("");
        broker_id.val("");
        ambassador_name.val("no results");
        ambassador_id.val("no results");
        ambassador_phone.val("no results");
        ambassador_email.val("no results");
      }
    }



    function get_all_dev_sale_managers() {
        var dev_sales_manager_select= $("#dev_sales_manager_select");
        var url = "{% url 'home:get_all_dev_sales_manager' %}";
        $.ajax({
            url: url,
            type: 'GET',
            success: function(response) {
                // set options for dev_sales_manager_select with the array dev_sales_manager that send in response
                console.log('response', response);
                // Clear existing options
                dev_sales_manager_select.empty();
                // please select option
                var selected_option = $('<option></option>').attr("value", "").text("select option");
                selected_option.attr("selected", true);
                dev_sales_manager_select.append(selected_option);
                // Add new options
                response.dev_sales_manager.forEach(function(manager) {
                    var option = $('<option></option>').attr("value", manager).text(manager);
                    dev_sales_manager_select.append(option);
                });
            },
            error: function(xhr, status, error) {
                console.error(error);
            }
        })

    }
    
    $("input[name='clientSource']").on("change", function() {
      var selectedValue = $(this).val();
      var broker_section = document.getElementById("broker_section");
      var broker_section2 = document.getElementById("broker_sales_section2");
      var ambassador_section = document.getElementById("ambassador_section");
  
      if (selectedValue === 'direct') {
          console.log('direct');
          broker_section.style.display = 'none';
          ambassador_section.style.display = 'none';
          broker_section2.style.display = 'none';
          get_all_dev_sale_managers();
          update_inputs_value("direct");
      } else if (selectedValue === 'Ambassador') {
          console.log('Ambassador');
          broker_section.style.display = 'none';
          ambassador_section.style.display = 'block';
          broker_section2.style.display = 'none';
          get_all_dev_sale_managers();
          update_inputs_value("Ambassador");
      } else if (selectedValue === 'Indirect') {
          console.log('Indirect');
          broker_section.style.display = 'block';
          ambassador_section.style.display = 'none';
          broker_section2.style.display = 'block';
          update_inputs_value("Indirect");
      } else if (selectedValue === 'Personal') {
          console.log('Personal');
          broker_section.style.display = 'block';
          ambassador_section.style.display = 'none';
          broker_section2.style.display = 'block';
          update_inputs_value("Personal");
      }
  });
  });




</script>






  </body>
</html>
